# TIL (2025.07.29)

오늘 읽은 범위: 3강 - 식별자 상속의 시발점. 종속 엔터티 ~ 4강 - 모델링의 꽃. 정규화

---

```text
책의 내용을 요약해보기
```
# 3강 - 식별자 상속의 시발점. 종속 엔터티

## 종속 엔터티
- 자립 엔터티 - 독립적인 엔터티 - 존재 종속되지 않은 엔터티

- 존재 종속 = 어떤 존재가 생기기 위해서, 다른 존재가 <b>반드시</b> 필요하면, 그 존재는 존재 종속  
  ㄴ 밀접한 연관 관계가 존재한다고 해서, 존재 종속된 것은 아님.

## 종속 엔터티의 종류
### 종속 엔터티가 아니다 === 자립 엔터티 이다

- 종속 엔터티는 상위 엔터티가 없으면, 존재할 수 없는 엔터티이다.

종류
1. 부가 데이터를 관리하는 엔터티  
  ㄴ 별도의 엔터티에서 관리하는 속성을 부모 엔터티에서 관리해도, 데이터 성격이 어울리면, 그 속성은 부가 데이터
2. 1정규화에 의해서 발생하는 종속 엔터티
3. 변경 이력 데이터 관리 엔터티
4. 하나의 엔터티를 1:1 관계로 분해하는 수직 분할 엔터티
5. 서브타입 모델을 물리 모델로 표현했을 때, 생기는 엔터티
6. 다대다 관계의 교차 엔터티

### 종속 엔터티를 도출하면, 관계가 분명해지며, 주 식별자까지 결정됨

## 종속 엔터티의 사촌 개념. 종속 관계
### 종속 관계는 종속 엔터티와 유사한 개념

- 관계
  - 종속 관계  
    ㄴ 관계가 서로 종속
  - 참조 관계  
    ㄴ 종속되지 않고 참조만

- 참조 관계  
엔터티와의 연관성을 관리하려는 관계  
관계를 삭제하더라도, 한 속성에 대한 연관성을 모를 뿐, 하위 엔터티가 존재 가능

- 종속 관계  
종속 엔터티에 생긴 관계

- 업무에 의해 생긴 종속 관계 -> 업무 종속 관계 / 종속 엔터티에 의해 생긴 종속 관계 -> 존재 종속 관계

## 식별자를 상속하는 네 가지 방법
- 식별자 상속: 한 엔터티의 주 식별자를 하위 엔터티에 주 식별자로 상속하는지, 일반 속성으로 상속하는지에 따라 식별 관계와 비식별 관계로 구분

### 간단한 원칙: 두 엔터티가 종속 관계일 때는 식별 관계로 설계하고, 참조 관계일 때는 비식별 관계로 설계

- 4가지 기본 원칙
1. 종속 관계는 식별 관계로 설계한다.
2. 비종속 관계는 비식별 관계로 설계한다.
3. 종속 관계는 비식별 관계로 상속하지 않는다.
### 4. 참조 관계는 식별 관계로 상속하지 않는다. 반드시 피해야 함
ㄴ 하위 엔터티의 주 식별자에 지대한 영향을 미치기 때문에, 예측 가능하긴 함

### 지켜야 하는 종속성 관계
```
                    - 존재 종속 관계 - 식별 관계
                   |
         - 종속 관계 |               - 식별 관계
         |          - 업무 종속 관계 |
관계 종속성 |                         - 비식별 관계
          - 참조 관계 - 비식별 관계
```

## 일석삼조의 종속 엔터티 분석법
- 엔터티가 자립 엔터티인지, 종속 엔터티인지를 분석한다.  
  ㄴ 관계와 식별자까지 고려한 분석


# 4강 - 모델링의 꽃. 정규화
## 엔터티를 도출하는 힘
- 엔터티를 대표하는 속성을 찾은 후에, 해당 속성이 대표 속성에 종속됐는지를 판단하면서, 엔터티를 설계하는 과정

## 정규화를 꺼려하던 시절
- 정규화는 모델링을 쉽게 만들어주었고, 모델링에 자신 있도록 만듬

## 정규화의 이점은 무엇인가
### 중복 데이터 제거
- 데이터의 아노말리 생기지않음.
- 데이터 무결성 높아짐
- 데이터의 품질 좋아짐
- 데이터가 견고해짐
- 모델의 확장성

## 정규화의 토대. 함수 종속
- 정규화는 특정 속성이 어떤 엔터티에 속해야 하는지를 따져서 제자리인 한 곳에만 있도록 하는 과정

- 함수 종속은 데이터 종속을 의미  
ㄴ 릴레이션 내에 존재하는 속성 간의 종속성

### 함수 종속을 분석
- 속성 간의 종속성 파악
업무 요건 파악

### 속성 간의 종속성을 분석할 때, 기준이 되는 값 = 결정자  
### 결정자의 값에 의해 정해지는 값 = 종속자
- 결정자라고 생각한 속성 값에 대한 종속자 속성 값이 2개 이상이 존재한다면, 결정자 다시 선정하기.

## 데이터 이상 현상. 아노말리
- 데이터가 서로 맞지 않는, 데이터의 이상 현상.

## 까다로운 정규화. 1정규화
- rdb에서 관리하는 속성의 값은 원자 값이면서, 나눌수 없는 값  
ㄴ 다가 속성: 유일한 원자 값이여야 하며, 여러 개의 값으로 이루어진 다가 속성이면 안됨  
ㄴ 복합 속성: 나눌 수 없는 값이여야 하며, 나뉠 수 있는 복합 속성이면 안됨

## 가장 간단한 정규화. 2정규화
- 부분 함수 종속이 없어야 한다.

## 이행 종속이 대상인 3정규화
- 이행 종속은 간접적인 함수 종속: Y -> Z, X -> Y, X -> Z

## 3정규화의 사촌. BC 정규화
- 모든 종속자 속성은 일반 속성이어야 한다.  
종속자는 결정자에 종속된 속성이니 일반 속성이여야 하지만, 종속자 속성이 주 식별자에 위치하는 경우가 존재...


수강
|학생번호|  
|------|
|교수번호|
|과목번호|
|------|
|이수여부|
|평점   |

- 과목을 알면, 교수를 알 수 있기 때문에, 과목 번호는 결정자. 교수번호는 종속자 / 교수번호가 주 식별자에 있으니, BC 정규화 위배

### 슈퍼 식별자
- 기존의 주 식별자 속성에 다른 속성이 포함된 식별자

## 의외로 심각한 4정규화
- 다가 종속을 제거  
ㄴ 다가 종속은 한 릴레이션에 다가 속성이 두 개 이상 존재할 때, 하나의 다가 속성 값이 다른 다가 속성의 모든 값마다 중복되는 것을 의미

## 너무 이론적인 5정규화
- 아노말리가 발생하지 않을 때 까지, 릴레이션 분해

- 어떤 릴레이션을 정규화 한 다음에, 조인했을 때, 다시 원래의 릴레이션으로 복원할 수 있따면, 그 릴레이션은 조인 종속이 존재

```text
🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요
```
3강은 엄청 이론적인 이야기 인 것 같지만, 시스템이 점점 커질수록 중요한 이야기일 것 같으며,
4강은 대학 수업과 정처기가 많이 도움이 된 것 같다.

```text
💡 궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요.
```
업무에 의해 생긴 종속...도메인 지식이 필요하다...

3강을 제대로 정독 해보자.

---
3강
- 업무에 의해 생긴 종속 관계 - 도메인 지식 및 경력이 필수인걸까??

- 참조 관계를 식별 관계로 상속하면 위계질서가 꼬여버리니, 그건 절대로 안되는게 맞다.

4강
- 다가 속성, 복합 속성도 또 업무에 의해서 정규화를 하냐 마냐가 정해진다….

- ‘개수가 정해진 다가 속성은 1정규화 하지 않고’에서의 개수는 컬럼의 갯수
