# TIL (2025.08.05)

오늘 읽은 범위: 5강 - 인스턴스를 구분하는 기준. 업무 식별자 ~ 6강 - 업무 식별자가 아니라면 인조 식별자로

---

```text
책의 내용을 요약해보기
```
# 5강 - 인스턴스를 구분하는 기준. 업무 식별자

1. 업무 식별자 도출
2. 후보 식별자 도출
3. 업무 식별자를 주 식별자로 검토
4. 업무 식별자를 주 식별자로 선정
5. 후보 식별자 중 주 식별자 검토
6. 후보 식별자를 주 식별자로 선정
7. 인조 식별자를 주 식별자로 선정

## 업무 식별자를 찾아라
- 업무 식별자: 인스턴스를 업무적으로 구분할 수 있는 속성  
ㄴ 업무적으로 구분한다 === 논리적으로 구분한다

- 물리적으로 구분한다?? - 데이터적으로 구분한다.

## 업무 식별자를 도출하는 원칙
1. 업무 식별자를 도출할 때는 논리적으로 따진다.
2. 순번 속성을 업무 식별자로 도출하지 않는다.
3. 슈퍼 식별자를 사용하지 않는다.  
ㄴ 이미 식별자 역할을 하는 속성에 다른 속성을 추가해서 만든 식별자

## 엔터티 유형별 업무 식별자 도출 방법
- 실체 엔터티: 업무 식별자
- 행위 엔터티: 6하원칙에 의거 도출

-업무 식별자는 결국 업무 요건에 따라 도출됨  
ㄴ 엔터티에 인스턴스를 생성시키는 기준 속성을 찾는 것.

- 가공 엔터티의 종류인 집계 엔터티는 집계 하려는 기준을 업무 식별자로 도출

업무 식별자 도출 === 엔터티를 정의한다

## 주 식별자가 될 후보를 찾아라.
- 식별자  
ㄴ업무 식별자: 인스턴스를 생성하는 기준  
ㄴ인조 식별자: 물리적으로 인스턴스를 구분할 수 있도록 하는 새로운 속성 채택

- 후보 식별자: 주 식별자가 될 가능성이 있는 식별자 의미  
ㄴ 모든 식별자는 주 식별자가 될 수 있는 후보

- 대리 식별자: 후보 식별자 중에 주 식별자로 선택되지 않은 식별자

- 외래 식별자: FK

- 단일 식별자: 속성의 개수가 1개 ex) 실체 엔터티에서 사용하는 인조 식별자
- 복합 식별자: 속성의 개수가 여러개 ex) 행위 엔터티의 업무 식별자

### 복합 주 식별자의 고려 사항
- 식별자 상속이 지속되면, 인위적인 단일 식별자 사용

### 후보 식별자 도출 방법
- 함수 종속을 사용한다.  

# 6강 - 업무 식별자가 아니라면 인조 식별자로
## 주 식별자로 사용하기 적합하지 않은 경우
1. 값이 변경되는 속성
2. 암호화가 되어야 하는 속성
3. 일반 속성에 종속된 값이 주 식별자에 존재하면 안됨
4. 논리적인 NULL값을 사용하는 속성

- 예외
1. 하위 엔터티가 없는 경우에는 주 식별자 속성 값이 변경되어도 괜찮다.

## 특별히 인조 식별자를 채택해야 하는 경우
- 하위 엔터티가 많을 때  
ㄴ 복잡한 업무 식별자를 그대로 주 식별자로 사용하면 > 하위 엔터티의 주 식별자들도 복잡
- 유연하게 설계해야 할 때  
ㄴ 주 식별자를 인조 식별자로 설계 했다면, 요건이 바뀌어도, 주 식별자는 변하지 않음

## 업무 식별자와 인조 식별자의 장단점
### 업무 식별자 사용
- 장점
1. 업무에 맞게 데이터가 생성되어 데이터 품질 향상
2. 엔터티의 정의가 명확해짐

- 단점
1. 업무 변경에 유연하지 않다
2. 하위 엔터티가 많을 때, 모델이 복잡해진다.

### 인조 식별자 사용
- 주의점
인조 식별자 속성 값 내에 체계가 존재하도록 설계

### 부분 인조 식별자
부분 인조 식별자: 단독 인조 식별자는 아니지만, 인조 식별자에 포함돼 인조 식별자 역할을 함
- 폐해
1. 엔터티의 성격이 모호해짐 ===> 모든 엔터티의 주 식별자를 유사하게 만듬
2. 관계선 표현 힘듬
3. 엔터티 분석 힘듬



```text
🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요
```
순번을 DBA분께서 싫어하셨는데, 이 책의 저자도 많이 싫어한다.
순번이나 인조 식별자를 되게 자주 많이 쓴다고 생각했는데, 정말 맞는 것인지 한번 더 생각하게 된다.

```text
💡 궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요.
```
5강
- 슈퍼 식별자는 복합 식별자와 같은건가?
    - 복합 식별자 : 두 개 이상의 속성을 조합하여 엔터티를 고유하게 식별하는 기본 키
    - 슈퍼 식별자
        - 전체 시스템이나 여러 엔티티에 걸쳐 범용적으로 사용되는 식별자
        - 이미 식별자 역할을 할 수 있는 속성에 불필요하게 다른 속성을 추가해서 만든 식별자
        - 복합 식별자의 한 형태이지만, 불필요하게 과도한 복합 식별자를 의미

6강
- 인조 식별자를 채택할 때 몇 개의 필드가 적절할까?
    - 회사에선 최대 4개까지 사용중이지만, 몇 개가 적절할지는 고민됨

