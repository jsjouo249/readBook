# TIL (2025.07.23)

오늘 읽은 범위: 1강 - 엔터티 설계의 첫 관문. 실체 엔터티 ~ 2강 -실체 엔터티의 사촌인 기준 엔터티

---

```text
책의 내용을 요약해보기
```
# 1강 - 엔터티 설계의 첫 관문. 실체 엔터티
# 키워드: 관계 === 속성, 집합

## 실체 엔터티의 정의
- 실제로 보이는 것(만질 수 있는 데이터)을 나타내는 데이터를 관리하는 엔터티

- 보이는 것은 만질 수 있는 실제의 물체이며, 실체 엔터티 <> 보이지 않는 것은 추상적인 것

## 실체 엔터티가 중요한 이유
- 실체 엔터티는 구조적으로 최상위에 존재  
  ㄴ 하위 엔터티가 많이 존재하며, 행위 엔터티의 주체가 되기 때문

## 실체 엔터티와 유사한 엔터티
- 시스템에서의 실체 데이터는 고객, 사원, 상품 등이지만, 온전한 실체 데이터는 아님.

```
예)
도서관에서의 책은 실체
희망 도서를 신청할 때의 책은 실체가 아님.

도서 <> 책 <> 책대출
의 테이블에서 도서는 실체 엔터티가 아님.
책이 실체 엔터티임.

즉, 실체를 의미할 때도 있고, 실체를 나타내는 기본 정보를 의미할 때도 있음.
```

- 역할을 의미하는 엔터티
```
고객 - 실체 엔터티
사원의 엔터티가 있다면, 고객이면서 사원인 사람은 2건의 고객 데이터로 관리됨.
```

### 실체라고 생각되는 것에는 실체 자체가 아니라 실체 자체를 나타내는 개념을 의미하거나 실체가 하는 역할을 의미할 수 있다는 점

## 실물의 개수와 실체 엔터티의 인스턴스 개수
- 엔터티에서 관리하고 있는 인스턴스의 개수 === 실제 존재했던 실체의 개수

## 오직 한 번 존재하는 실체 엔터티의 주 식별자
- 주 식별자에 시각 속성이 포함되지 않는다
- 주 식별자를 인조 식별자로 설계하는 것도 실체 엔터티의 대표적인 특징

## 통합이 수월하고 적절한 실체 엔터티
- 일반화 하기 수월

## 명사형의 엔터티 명
- 뒤에 '~했음' 을 붙여서 자연스러우면 ***행위 엔터티*** 에 적절한 이름

## 행위 엔터티보다 실체 엔터티로 도출
- 가장 큰 특징 중 하나는 눈에 쉽게 띄기 때문에 도출에 용이
```
어떤 행위에 의해서 결과 데이터인 실체 엔터티가 생기면, 실체 데이터를 관리하는 것이 좋음.
```

# 2강 - 실체 엔터티의 사촌. 기준 엔터티
## 낱개의 물건 & 물건의 상징
- 기준 정보의 성격의 데이터를 관리하는 엔터티   
ㄴ 예) 환율 데이터 / 코드 데이터
- 기본 정보의 성격의 데이터를 관리하는 엔터티  
ㄴ 예) 과목 데이터 / 상품 데이터  

둘 다 업무의 기준이 되는 참조 엔터티

## 사람 & 사람의 역할
- 사람을 나타내는 데이터를 관리하는 엔터티 & 사람의 역할을 나타내는 데이터를 관리하는 엔터티  
ㄴ '사람'을 관리하는 실체 엔터티 VS '역할'을 관리하는 기준 엔터티의 구분

## 기준 정보를 관리하는 기준 엔터티
- 기본 정보를 관리하는 기준 엔터티 - 실체 엔터티와 같이 이해하면 쉬움
- 기준 정보를 관리하는 기준 엔터티 - 개념적인 데이터  
예) 코드 성격의 데이터

## 기준 엔터티의 주 식별자
- 인조 식별자를 사용
- 기준 정보를 관리하는 기준 엔터티는 보통 업무 식별자를 주 식별자로 사용.
### 기준 정보를 관리하는 기준 엔터티는 하위 엔터티가 존재하지 않아, 주 식별자가 복잡해 지는 것은 문제가 되지 않음.
ㄴ 특별한 목적 없이 업무 식별자가 복잡하다고, 인조 식별자를 사용하는 의미없이 속성을 하나 더 관리해야 함

## 기준 엔터티의 참조 무결성
- 기준 정보를 관리하는 기준 엔터티는 참조 무결성 관계가 존재할 수 도 있고, 존재하지 않을 수 있음

### 참조 무결성 관계 존재 설계 판단 기준
- 기준 데이터가 변경되면, 참조 데이터도 바뀌어야 하는지?  
ㄴ 기준 데이터가 바뀌면, 참조해 사용했던 데이터를 전부 바꿀지  
ㄴ 사용했던 데이터는 선택할 당시의 데이터이므로 영향이 없어야 하는지

- 참조되는 데이터를 입력할 때, 텍스트 박스에 직접 수기로 입력하여 저장하면, 참조 무결성 성립 안됨.

## 가능하면 유사한 데이터는 통합
- 엔터티를 통합
- 기준 데이터는 하나의 기준으로 만든다는 개념의 통합

## 실체/기준/행위/가공 엔터티
- 행위 엔터티는 행위에 의해 발생된 데이터를 관리하는 엔터티  
ㄴ 실체의 업무 행위나 활동에 의해서 생긴 원천 데이터를 관리

### 특징
1. 데이터가 많음
2. 발생 순서가 존재
3. 라이프 사이클이 짧음.
4. 업무 식별자 사용이 원칙이먀, 하위 엔터티가 많을 때만 인조 식별자 사용

- 가공 엔터티는 원천 데이터를 사용해서 가공한 데이터를 관리하는 엔터티  
ㄴ 집계, 요약, 임시 엔터티

### 특징
1. 실체 엔터티이거나 기준 정보를 관리하는 엔터티가 주
2. 집계를 하려는 기준이 주 식별자가 됨

## 엔터티 성격이 혼합되지 않도록
- 한 엔터티에 실체 성격의 데이터와 행위 성격의 데이터가 혼합돼 있으면 안됨

```text
🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요
```
아직은 뜬 구름 잡기 같지만, 중간중간 이해가 되는 부분이 있었다.
다만, 기준 엔티티를 참조해서 입력한다면, 기준 엔터티는 왜 있는걸까

```text
💡 궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요.
```
1. 2강의 44p  
우편주소 엔터티(기준 정보 관리하는 기준 엔터티)를 참조해서 고객의 주소 데이터를 입력할 뿐, 참조 무결성 제약은 없다.  
왜 굳이 우편주소라는 엔터티를 생성해서 관리할까??

- 참조 무결성이 없는 엔터티가 존재할까?
    - 가입할 때 우편주소를 검색을 위한 우편주소 엔티티가 존재할 것 같고, 가입 시 고객 엔터티에 주소가 넣어져있듯이 관리하는 부분이 참조 무결성이 없는 엔터티 조합이지 않을까 생각함