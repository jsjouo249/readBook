# item4. 불변 활용하기: 안정적으로 동작하게 만들기
## 재할당
- 불변 변수로 만들어서 재할당 막기
- 매개변수도 불변으로 만들기
## 가변으로 인해 발생하는 의도하지 않은 영향
- 가변 인스턴스 재사용하지 못하게 생성
- 함수로 가변 인스턴스 조작
- 부수 효과의 단점
  - 부수효과란? 함수가 매개변수를 전달받고, 값을 리턴하는 것 이외에 외부 상태를 변경하는 것
- 함수의 영향 범위 한정하기
- 불변으로 만들어서 예기치 못한 동작 막기

'주의해서 코드를 작성할테니, 불변이 아니어도 괜찮을거야' 라는 생각은 스스로를 너무 맹신하는 것이다.

## 불변과 가변은 어떻게 다루어야 할까
- 기본적으로 불변으로
  - 변수의 의미가 변하지 않아, 혼란을 줄일 수 있음
  - 동작이 안정적이게 되므로, 결과 예측이 쉬움
  - 코드의 영향 범위가 한정적이므로, 유지 보수가 편리해짐
- 가변으로 설계해야 하는 경우
  - 성능이 중요한 경우!! ex) 대량의 데이터를 빠르게 처리
- 상태를 변경하는 메소드(뮤테이터) 설계하기
- 코드 외부와 데이터 교환은 국소화하기
  - 레포지토리 패턴 - 데이터베이스의 영속화를 캡슐화

# item5. 응집도: 흩어져 있는 것들
## static 메소드 오용
- static 메소드는 인스턴스 변수를 사용할 수 없음
- 인스턴스 변수를 사용하는 구조로 변경하기
- 인스턴스 메소드인 척 하는 static 메소드 주의하기
- 왜 static 메소드를 사용할까? - 객체 지향 언어 사용 시, c 언어 같은 절차 지향 언어의 접근 방법을 사용하려 하기 때문
- 어떠한 상황에서 static 메소드를 사용해야 좋을까? - 응집도의 영향을 받지 않는 경우 ex) 로그 출력 전용 메소드, 포맷 변환 전용 메소드, 팩토리 메소드 등
## 초기화 로직 분산
생성자를 public으로 만들면, 의도하지 않은 용도로 사용될 수 있음.
- private 생성자 + 팩토리 메소드를 사용해 목적에 따라 초기화 하기
- 생성 로직이 너무 많아지면 팩토리 클래스를 고려해보자
## 범용 처리 클래스(common/util)
static 메소드를 빈번하게 볼 수 있는 클래스
- 너무 많은 로직이 한 클래스에 모이는 문제  
  - common '범용'이라는 네이밍 때문에, 범용적으로 사용하고 싶은 로직을 모으는 경향이 있음
- 객체 지향 설계의 기본으로 돌아가기
- 횡단 관심사 - 다양한 상황에 넓게 활용되는 기능(로그, 오류 확인, 디버깅, 예외, 캐시, 동기화, 분산처리 등)
## 매개변수가 너무 많은 경우
메소드에 매개변수를 전달한다는 것은 해당 매개변수를 사용해서 어떤 기능을 수행하고 싶다는 의미
- 기본 자료형에 대한 집착
  - boolean, int, float, double, String 처럼 프로그래밍 언어가 제공하는 자료형
- 의미 있는 단위는 모두 클래스로 만들기
## 메소드 체인
- 묻지 말고 명령하기 - 다른 객체의 내부 상태(변수)를 기반으로 판단하거나 제어하지 말고, 객체가 알아서 판단하고 제어하도록 설계
  - 인스턴스 변수는 private으로 변경 하여 외부에서 접근할 수 없게 한다. 제어는 메소드로 명령하는 형태
