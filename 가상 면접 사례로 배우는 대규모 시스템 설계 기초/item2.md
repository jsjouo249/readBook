# item2. 개략적인 규모 추정
- 개략적인 규모 추정: 보편적으로 통용되는 성능 수치상에서 사고 실험을 행하여 추정치를 계산하는 행위
- 어떤 설계가 요구사항에 부합할 것인지 보기 위한 것

기본기 중요
- 2의 제곱수
- 응답지연 값
- 가용성에 관계된 수치

## 2의 제곱 수
- 데이터 볼륨의 단위를 2의 제곱수로 표현
- 최소 단위는 1바이트 = 8비트

### 표 정리
| 2의 x 제곱 | 근사치   | 이름  |
|---------|-------|-----|
| 10      | 1천    | 1KB |
| 20      | 1백만   | 1MB |
| 30      | 10억   | 1GB |
| 30      | 1조    | 1TB |
| 30      | 1000조 | 1PB |

| 연산명                            | 시간                    |
|--------------------------------|-----------------------|
|L1 캐시 참조| 0.5ns                 |
|분기 예측 오류| 5ns                   |
|L2 캐시 참조| 7ns                   |
|뮤텍스 락/언락| 100ns                 |
|주 메모리 참조| 100ns                 |
|Zippy로 1KB 압축| 10,000ns = 10us       |
|1 Gbps 네트워크로 2Kb 전송| 20,000ns = 20us       |
|메모리에서 1MB 순차적으로 read| 250,000ns = 250us     |
|같은 데이터 센터 내에서의 메시지 왕복 지연시간| 500,000ns = 500us     |
|디스크 탐색| 10,000,000ns = 10ms   |
|네트워크에서 1MB 순차적으로 read| 10,000,000ns = 10ms   |
|디스크에서 1MB 순차적으로 read| 30,000,000ns = 30ms   |
|한 패킷의 캘리포니아로부터 네덜란드까지의 왕복 지연시간| 150,000,000ns = 150ms |

## 수치 분석
- 메모리는 빠르지만, 디스크는 아직도 느리다.
- 디스크 탐색은 가능한 한 피하라.
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 간으하면 압축하라.
- 데이터 센터는 보통 여러 지역에 분산되어 있고, 센터들 간에 데이터를 주고 받는 데 시간이 걸린다.


## 가용성에 관계된 수치들
| 가용률      | 하루당 장애시간  | 주당 장애시간   | 개월당 장애시간 | 연간 장애시간 |
|----------|-----------|-----------|----------|---------|
| 99%      | 14.40분    | 1.68시간    | 7.31시간   | 3.65일   |
| 99.9%    | 1.44분     | 10.08분    | 43.83분   | 8.77시간  |
| 99.99%   | 8.64초     | 1.01분     | 4.38분    | 52.60분  |
| 99.999%  | 864.00밀리초 | 6.05초     | 26.30초   | 5.26분   |
| 99.9999% | 86.40밀리초  | 604.80밀리초 | 2.63초    | 31.56초  |

## 팁
- 계산 결과의 정확함을 평가하는 것은 목적이 아니니, 근차시를 활용
- 가정들은 적어두기
- 단위를 붙이기
